### 前言

相信很多同学看到这个标题都想在年会里中个大奖，也相信很多同学对`Electron`很感兴趣。前端不简单，早期只能涉及`网站应用`，随着时间推移和技术变革，如今前端以渗透到各大应用开发领域。就笔者而言，目前已基于`CSS/JS`开发过`网站应用`、`桌面应用`、`移动应用`、`服务应用`、`爬虫应用`、`同构应用`、`工具应用`、`脚手架应用`、`微信公众号`和`微信小程序`。相信在未来，前端能渗透到更多的应用开发领域。

首次写系列教程，也希望各位同学多多支持。虽然网上关于`Electron`的教程有不少，但大多数教程都是处于离散状态。所以笔者想从零到一带领对`Electron`感兴趣的同学基于`Electron`完成一个年会幸运抽奖桌面应用。

希望对`Electron`感兴趣的同学能学到`Electron`大法的同时，也能巩固好开发一个前端项目所需的基本素质和技巧。

### 技术选型

在移动端有`Ionic`、`React Native`和`Weex`三大移动端跨平台大法，也相对应`Angular`、`React`和`Vue`。那么在桌面端也有`Electron`和`Nw`两大桌面端跨平台大法。

**Electron**和**Nw**是使用`HTML`、`CSS`和`JS`构建跨平台桌面应用且集成`Node`授予网页访问底层系统权限的技术方案。

使用`Electron`开发的成功案例有`VSCode`、`Atom`、`Github`、`Slack`、`WordPress`和`微信`等等。使用`Nw`开发的成功案例有`钉钉`和`微信Web开发工具`，没几个，笔者也想不出了。

`Electron`相对于`Nw`有以下优点和缺点，而`Nw`快凉了，就不再探索。

- 优点
	- 核心扩展较易：基于`Node技术`开发，由于`node-gyp`逐渐人性化导致`C++`和`JS`混用较易
	- 界面定制较强：基于`Web技术`开发，GUI核心使用`Chromium`，JS引擎使用`V8`
	- 开发成本较低：熟练使用`HTML+CSS+JS`的前端开发者都能开发，结合各种UI框架省事又省心
	- 技术方案更稳：有大团队的技术支持，运行更稳定，缺陷更少，只要浏览器调试没问题基本就没问题了
	- 迭代更新更快：方便热更新，下载新代码覆盖旧代码
- 缺点
	- 运行速度较弱：应用运行起来可能会卡也可能会慢，使用了`Webkit内核`的锅，参考`Chrome浏览器`即可
	- 进程管理较傻：除了启动主进程控制整个应用，还需启动一些辅助进程完成某些工作
	- 构建包体较大：相当于打包了一整个`Chrome浏览器`，不大才怪

不多说，凡是要开发桌面应用通通选`Electron`吧。

另外，Web框架选择`React`。本来笔者想选择`Vue`体验最新的`Vue3`特性，但是`Vue3`正式版迟迟未出，就放弃了。还是使用平常非常喜欢的`React Hooks`开发吧，爱不释手。

不想搞那些平平无奇的抽奖特效，想搞一些酷炫屌炸天的抽奖特效，就选择`Three`这个WebGL框架。

所以本次系列教程的最终组合是`Electron + React Hooks + Three`，妥妥的。

**另外提醒一下，最好有接触过React，无经验者可到React官网稍微了解再来学习本教程会更佳。本教程是完完全全的实战教程，不会详细讲解Electron/React/Three的深入细节和某个API怎样用，若有不懂可自行百度或在底部评论等笔者解答。**

### 项目搭建

可能很多同学都会使用`Github`一些开源的项目骨架进行二次开发，这些都是基于别人业务需求的项目骨架。若是遇上一些质量比较一般的脚手架项目，文件又多又乱都不知从何处下手，那就麻烦了。

所以笔者很少这样做，都是喜欢从零到一搭建项目骨架，不仅锻炼自己的项目搭建能力，也能从最基础的切入点了解整个项目的开发流程。以下就从零开始一步一步搭建项目骨架。

### 总结

- 官网地址：[https://yangzw.vip/lottery](https://yangzw.vip/lottery)
- 项目地址：[https://github.com/JowayYoung/lottery](https://github.com/JowayYoung/lottery)
- `bruce-cli`项目地址：[https://github.com/JowayYoung/bruce-cli](https://github.com/JowayYoung/bruce-cli)
- `bruce-cli`文档地址：[https://yangzw.vip/source?id=bruce-cli](https://yangzw.vip/source?id=bruce-cli)